Metadata-Version: 2.4
Name: sf-printer-server
Version: 0.1.0
Summary: A server for managing printers and print jobs using Salesforce platform events.
Author-email: Your Name <youremail@example.com>
License: MIT
Classifier: Programming Language :: Python :: 3
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: requests>=2.25.1
Requires-Dist: simple-salesforce>=1.12.0
Requires-Dist: toml>=0.10.2
Requires-Dist: grpcio>=1.50.0
Requires-Dist: grpcio-tools>=1.50.0
Requires-Dist: avro-python3>=1.10.0
Requires-Dist: certifi>=2021.5.30
Requires-Dist: sqlalchemy>=2.0.0
Provides-Extra: dev
Requires-Dist: pytest>=6.2.4; extra == "dev"
Requires-Dist: black>=21.7b0; extra == "dev"
Requires-Dist: mypy>=0.910; extra == "dev"
Dynamic: license-file

# Salesforce Printer Server

A production-ready server for managing printers and print jobs using Salesforce Platform Events.

## Features
- ğŸ”„ Real-time event listening via Salesforce **Pub/Sub API** (gRPC)
- ğŸ–¨ï¸ ZPL (Zebra Programming Language) support
- ğŸ” Universal OAuth authentication (JWT, Web OAuth, Username-Password)
- ğŸ‹ Docker containerized deployment
- ğŸ“ Simple TOML configuration
- ğŸš€ One-command installation
- âš¡ High-performance gRPC/HTTP2 streaming

## Quick Install

**On your Linux server:**

```bash
git clone https://github.com/v29tnr/salesforce-printer-server.git
cd salesforce-printer-server
make install
```

The installer will:
- âœ… Install Docker (if needed)
- âœ… Generate SSL certificates
- âœ… Guide you through Salesforce setup
- âœ… Configure and start the service

**That's it!** ğŸ‰

## Quick Commands

**One-line commands for everything:**

```bash
make install    # First-time setup
make update     # Pull latest code and rebuild
make start      # Start the service
make stop       # Stop the service
make restart    # Restart the service
make logs       # View live logs
make config     # Edit configuration
make status     # Check service status
```

## Traditional Commands (if make not available)

```bash
# Setup & Updates
chmod +x install.sh update.sh && ./install.sh  # Install
git pull && docker compose build --no-cache && docker compose up -d --force-recreate  # Update

# Service Management
docker compose logs -f         # View logs
docker compose down            # Stop service
docker compose restart         # Restart service
docker compose up -d           # Start
```

## Requirements
- Linux server (Ubuntu, Debian, CentOS, etc.)
- Docker (auto-installed if missing)
- Salesforce org with API access

## Documentation
- [Pub/Sub API Guide](docs/PUBSUB_API.md) - **NEW!** Pub/Sub API migration and setup
- [Full Deployment Guide](DEPLOYMENT.md) - Detailed deployment options
- [Salesforce Setup](docs/SALESFORCE_SETUP.md) - Salesforce configuration
- [Authentication Guide](docs/AUTHENTICATION.md) - Auth setup details

## Configuration

Configuration is stored in `config/config.toml`:

```toml
[salesforce]
instance_url = "https://login.salesforce.com"

[auth]
method = "jwt"
client_id = "YOUR_CONSUMER_KEY"
username = "integration.user@company.com"
private_key_file = "/app/certs/private_key.pem"

[logging]
level = "INFO"
```

> **Note:** Printer configuration (name, IP address, ZPL content) is managed in Salesforce and passed via Platform Events.

## Support

Questions? Issues?
- ğŸ“– Check the [docs](docs/) directory
- ğŸ› [Open an issue](https://github.com/v29tnr/salesforce-printer-server/issues)

## License
MIT License - See [LICENSE](LICENSE) file
